<div class="login-container">
  <div class="login-card">
    <div class="client-logo-container">
      <img src="assets/img/client logo_new.png" alt="Logo" class="logo" />
    </div>

    <div class="exl-img-container">
      <img [src]="imgPath" alt="Logo" class="logo" />
    </div>



    <form [formGroup]="form" (ngSubmit)="submit()" class="p-fluid">

      <div class="p-field">
        <div class="icon-input-container">
          <i class="pi pi-user prefix-icon password-icon"></i>
          <input pInputText type="email" formControlName="email" placeholder="Email Id" class="large-input" />
          <i class="pi pi-spin pi-spinner suffix-icon spinner-icon" *ngIf="loadingEmail()"></i>
        </div>
        <div class="valid-email">
          <small *ngIf="form.get('email')?.hasError('required') && form.get('email')?.touched" class="p-error">
            Email is required
          </small>
          <small *ngIf="form.get('email')?.hasError('email') && form.get('email')?.touched" class="p-error">
            Enter a valid email
          </small>
          <!-- <small *ngIf="form.get('email')?.hasError('emailNotFound')" class="p-error">
            Email not registered
          </small> -->
        </div>
      </div>


      <div class="p-field">
        <div class="icon-input-container">
          <i class="pi pi-lock prefix-icon password-icon"></i>
          <input pInputText type="password" formControlName="password" placeholder="Password" class="large-input" />
          <i class="pi pi-spin pi-spinner suffix-icon spinner-icon" *ngIf="loadingPassword()"></i>
        </div>
        <div class="valid-password">
          <small *ngIf="form.get('password')?.hasError('required') && form.get('password')?.touched" class="p-error">
            Password is required
          </small>
          <small *ngIf="form.get('password')?.hasError('complexity') && form.get('password')?.touched" class="p-error">
            Password must contain uppercase, lowercase, number, special char and no spaces
          </small>
          <!-- <small *ngIf="form.get('password')?.hasError('weakPassword')" class="p-error">
            Password is too weak
          </small> -->
        </div>
      </div>


      <button pButton type="submit" class="login-btn"
        [disabled]="form.invalid && !form.pending || loadingEmail() || loadingPassword()">
        LOGIN
        <i *ngIf="submitting()" class="pi pi-spin pi-spinner"></i>
      </button>

      <!--
      <button pButton type="submit" class="login-btn"  [disabled]="form.invalid || loadingEmail() || loadingPassword() || usingSSO()">
        LOGIN
        <i *ngIf="submitting()" class="pi pi-spin pi-spinner"></i>
      </button> -->

      <div class="flex justify-content-between flex-wrap options">
        <div class="flex align-items-center justify-content-center">
          <p-checkbox formControlName="rememberMe" name="rememberMe" binary="true" label="Remember me"
            class="remember-me m-1"></p-checkbox>Remember me
        </div>
        <div class="flex align-items-center justify-content-center">
          <a href="#" class="forgot-link">Forgot Password?</a>
        </div>
      </div>

      <div class="flex justify-content-between flex-wrap divider">
        <div class="flex align-items-center justify-content-center cust_divider"></div>
        OR
        <div class="flex align-items-center justify-content-center cust_divider"></div>
      </div>

      <button pButton type="button" label="SIGN IN WITH SSO" class="sso-btn" (click)="signInWithSSO()"
        [disabled]="submitting() || form.get('email')?.value === ''"><i *ngIf="submitting()"
          class="pi pi-spin pi-spinner"></i></button>
      <!-- <button pButton type="button" label="SIGN IN WITH SSO" class="sso-btn"  ><i *ngIf="submitting()" class="pi pi-spin pi-spinner"></i></button> -->
      <div class="flex justify-content-between flex-wrap signup">
        <div class="flex align-items-center justify-content-center">
          <span>Don't have an account?</span>
        </div>
        <div class="flex align-items-center justify-content-center">
          <a href="#" class="signup-link">Sign up</a>
        </div>
      </div>

    </form>
  </div>
</div>
